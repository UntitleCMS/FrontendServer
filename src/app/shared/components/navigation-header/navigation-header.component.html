<div>
  <header class="flex items-center justify-between gap-8 p-4 h-16 md:h-auto md:px-8 bg-white/75 backdrop-blur">
    <a [routerLink]="['']">
      <h1 class="text-xl md:text-2xl lg:text-3xl font-black comfortaa">เบต้าบล็อก</h1>
    </a>
    <div class="grow relative hidden lg:block">
      <input type="search" class="block w-full border px-4 py-2 rounded-xl focus:outline-0 focus:rounded-b-none peer" placeholder="ค้นหาทุกสิ่งทุกอย่าง...">
      <div class="hidden bg-white border border-t-0 rounded-b-lg absolute top-full w-full h-24 peer-focus:block"></div>
    </div>
    <div class="flex items-center gap-8">
      <button class="lg:hidden" (click)="toggleMobileMenu()">
        <svg *ngIf="!isMobileMenuOpen" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
        </svg>
        <svg *ngIf="isMobileMenuOpen" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
          <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z" clip-rule="evenodd" />
        </svg>
      </button>
      <nav class="hidden lg:flex items-center gap-4 text-slate-700">
        <a [routerLink]="['write']">เขียนบทความ</a>
        <a class="text-gray-300">แหล่งชุมชม</a>
      </nav>
      <div *ngIf="!isLoggedIn; else avatar" class="hidden lg:flex gap-4">
        <button class="px-4 py-2 bg-slate-700 text-white rounded-full hover:bg-slate-900">
          เข้าสู่ระบบ
        </button>
      </div>
      <ng-template #avatar>
        <div class="relative text-slate-500">
          <div class="h-10 w-10 bg-amber-200 rounded-full cursor-pointer hover:sepia" (click)="toggleProfileMenu()"></div>
          <div *ngIf="isProfileMenuOpen" class="absolute top-[110%] right-0 flex flex-col rounded-lg shadow p-2">
            <a class="flex items-center gap-2 rounded-lg hover:bg-slate-500 hover:text-white p-2 cursor-pointer">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
              </svg>
              Profile
            </a>
            <a class="flex items-center gap-2 rounded-lg hover:bg-slate-500 hover:text-white p-2 cursor-pointer">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9" />
              </svg>
              Logout
            </a>
          </div>
        </div>
      </ng-template>
    </div>
  </header>
  <div class="h-menu bg-white" [ngClass]="{'hidden':!isMobileMenuOpen}">
    <div class="p-2">
      <nav class="flex flex-col text-center gap-1">
        <a [routerLink]="['']" (click)="closeMobileMenu()">อ่านบทความ</a>
        <a [routerLink]="['write']" (click)="closeMobileMenu()">เขียนบทความ</a>
        <a class="text-gray-300">ตั้งคำถาม</a>
        <a class="text-gray-300">แหล่งชุมชม</a>
      </nav>
      <hr class="my-3">
      <div *ngIf="!isLoggedIn; else avatar" class="flex justify-center gap-4">
        <button class="px-4 py-2 bg-blue-700 font-bold text-white rounded-lg hover:bg-blue-800">
          Login
        </button>
        <button class="px-4 py-2 bg-green-700 font-bold text-white rounded-lg hover:bg-green-800">
          Register
        </button>
      </div>
    </div>
  </div>
</div>


