<div class="max-w-screen-sm mx-auto flex flex-col p-4 gap-4" *ngIf="me">
  <div
    class="w-56 h-56 rounded-full relative overflow-hidden self-center mb-4 group"
  >
    <input
      class="hidden"
      type="file"
      (change)="onFileChange($event)"
      accept="image/*"
      #selectFile
    />
    <img
      [src]="avatarFileB64.length ? avatarFileB64 : getAvatar()"
      class="w-full h-full object-cover"
      onError='{
      this.src = "assets/images/default-avatar.svg"
      this.onerror = null
    }'
    />
    <div
      (click)="selectFile.click()"
      class="absolute w-full h-full top-0 left-0 flex justify-center items-center bg-zinc-200/75 transition-all cursor-pointer opacity-0 group-hover:opacity-100"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"
        />
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"
        />
      </svg>
    </div>
  </div>
  <input
    class="px-4 py-2 rounded-xl outline-0 bg-zinc-200 text-zinc-400"
    [value]="'ชื่อผู้ใช้ : ' + me.username"
    readonly
  />
  <input
    class="px-4 py-2 rounded-xl outline-0"
    placeholder="ชื่อสำหรับแสดงผล"
    [(ngModel)]="displayName"
  />
  <textarea
    class="resize-none px-4 py-2 rounded-xl outline-0"
    [rows]="5"
    placeholder="ข้อความสั้น ๆ บอกคนที่มาเยี่ยมชม"
    [(ngModel)]="bio"
  ></textarea>
  <button
    (click)="updateProfile()"
    class="self-end px-4 py-2 font-semibold bg-blue-500 hover:bg-blue-700 text-white rounded-xl"
  >
    อัปเดต
  </button>
</div>
